"use strict";(self.webpackChunk_stagehand_docs=self.webpackChunk_stagehand_docs||[]).push([[876],{1184:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>c});var r=t(6540);const s={},i=r.createContext(s);function o(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:n},e.children)}},1995:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"frontend/stores/useIntegrationStore","title":"Store: useIntegrationStore","description":"File:* packages/web/src/stores/useIntegrationStore.js","source":"@site/docs/frontend/stores/useIntegrationStore.md","sourceDirName":"frontend/stores","slug":"/frontend/stores/useIntegrationStore","permalink":"/frontend/stores/useIntegrationStore","draft":false,"unlisted":false,"editUrl":"https://github.com/your-org/stagehand/tree/main/packages/docs/docs/frontend/stores/useIntegrationStore.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Store: useHierarchyStore","permalink":"/frontend/stores/useHierarchyStore"},"next":{"title":"Store: useMembershipStore","permalink":"/frontend/stores/useMembershipStore"}}');var s=t(4848),i=t(1184);const o={},c="Store: useIntegrationStore",d={},l=[{value:"State",id:"state",level:2},{value:"Actions",id:"actions",level:2},{value:"<code>fetchIntegrations(resourceType, resourceId)</code>",id:"fetchintegrationsresourcetype-resourceid",level:3},{value:"<code>createScmIntegration(resourceType, resourceId)</code>",id:"createscmintegrationresourcetype-resourceid",level:3},{value:"<code>addSecurityTool(data)</code>",id:"addsecuritytooldata",level:3},{value:"<code>fetchSnykProjects(integrationId)</code>",id:"fetchsnykprojectsintegrationid",level:3},{value:"<code>linkSnykProject(projectId, snykProjectId, toolType, integrationId)</code>",id:"linksnykprojectprojectid-snykprojectid-tooltype-integrationid",level:3},{value:"<code>triggerSnykSync(integrationId, stagehandProjectIds)</code>",id:"triggersnyksyncintegrationid-stagehandprojectids",level:3},{value:"<code>fetchSyncLogs(integrationId)</code>",id:"fetchsynclogsintegrationid",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsxs)(n.h1,{id:"store-useintegrationstore",children:["Store: ",(0,s.jsx)(n.code,{children:"useIntegrationStore"})]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"File:"})," ",(0,s.jsx)(n.code,{children:"packages/web/src/stores/useIntegrationStore.js"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Purpose:"})," Manages integrations with both Source Code Management (SCM) tools like GitHub and third-party Security Tools like Snyk."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"state",children:"State"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"integrations"}),": An object containing two arrays: ",(0,s.jsx)(n.code,{children:"scmIntegrations"})," and ",(0,s.jsx)(n.code,{children:"securityToolIntegrations"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"snykProjects"}),": An array of Snyk project objects, fetched from the Snyk API, used to populate selection modals."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"syncLogs"}),": An array of log entries for integration sync jobs."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"isLoading"}),": A boolean flag for various integration-related async operations."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"actions",children:"Actions"}),"\n",(0,s.jsx)(n.h3,{id:"fetchintegrationsresourcetype-resourceid",children:(0,s.jsx)(n.code,{children:"fetchIntegrations(resourceType, resourceId)"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description:"})," Fetches all integrations for a given resource."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"API Calls:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"GET /api/v1/integrations?<resourceType>=<resourceId>"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"GET /api/v1/security-tools?<resourceType>=<resourceId>"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Behavior:"})," Populates the ",(0,s.jsx)(n.code,{children:"integrations"})," state object."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"createscmintegrationresourcetype-resourceid",children:(0,s.jsx)(n.code,{children:"createScmIntegration(resourceType, resourceId)"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description:"})," Starts the GitHub App installation OAuth flow."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"API Call:"})," ",(0,s.jsx)(n.code,{children:"POST /api/v1/integrations/github/auth-start"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Behavior:"})," It gets an installation URL from the API and redirects the browser to GitHub to continue the flow."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"addsecuritytooldata",children:(0,s.jsx)(n.code,{children:"addSecurityTool(data)"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description:"})," Creates a new security tool integration (e.g., Snyk) by sending its credentials to the backend."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"API Call:"})," ",(0,s.jsx)(n.code,{children:"POST /api/v1/security-tools"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Behavior:"})," Refreshes the integration list on success."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"fetchsnykprojectsintegrationid",children:(0,s.jsx)(n.code,{children:"fetchSnykProjects(integrationId)"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description:"})," Fetches the list of projects from a user's Snyk account for a given integration."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"API Call:"})," ",(0,s.jsx)(n.code,{children:"GET /api/v1/security-tools/:integrationId/snyk/projects"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Behavior:"})," Populates the ",(0,s.jsx)(n.code,{children:"snykProjects"})," state array."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"linksnykprojectprojectid-snykprojectid-tooltype-integrationid",children:(0,s.jsx)(n.code,{children:"linkSnykProject(projectId, snykProjectId, toolType, integrationId)"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description:"})," Creates a link between a Stagehand project and a Snyk project."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"API Call:"})," ",(0,s.jsx)(n.code,{children:"POST /api/v1/projects/:projectId/link-tool"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"triggersnyksyncintegrationid-stagehandprojectids",children:(0,s.jsx)(n.code,{children:"triggerSnykSync(integrationId, stagehandProjectIds)"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description:"})," Initiates a background job on the server to sync security findings from Snyk for one or more Stagehand projects."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"API Call:"})," ",(0,s.jsx)(n.code,{children:"POST /api/v1/security-tools/:integrationId/sync"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"fetchsynclogsintegrationid",children:(0,s.jsx)(n.code,{children:"fetchSyncLogs(integrationId)"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description:"})," Fetches the most recent sync logs for a specific integration."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"API Call:"})," ",(0,s.jsx)(n.code,{children:"GET /api/v1/security-tools/:integrationId/sync-logs"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Behavior:"})," Populates the ",(0,s.jsx)(n.code,{children:"syncLogs"})," state array."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);