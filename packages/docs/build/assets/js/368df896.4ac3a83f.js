"use strict";(self.webpackChunk_stagehand_docs=self.webpackChunk_stagehand_docs||[]).push([[603],{1184:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>c});var r=t(6540);const o={},s=r.createContext(o);function i(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(s.Provider,{value:n},e.children)}},5603:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>l,frontMatter:()=>i,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"frontend/components/architecture","title":"Frontend Documentation: Architecture Components","description":"This document provides a breakdown of the components used for rendering the project dependency graph.","source":"@site/docs/frontend/components/architecture.md","sourceDirName":"frontend/components","slug":"/frontend/components/architecture","permalink":"/frontend/components/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/your-org/stagehand/tree/main/packages/docs/docs/frontend/components/architecture.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Frontend Documentation: Application Components","permalink":"/frontend/components/applications"},"next":{"title":"Frontend Documentation: Findings Components","permalink":"/frontend/components/findings"}}');var o=t(4848),s=t(1184);const i={},c="Frontend Documentation: Architecture Components",d={},h=[{value:"Overview",id:"overview",level:2},{value:"Component Breakdown",id:"component-breakdown",level:2},{value:"<code>ProjectGraphContainer.jsx</code>",id:"projectgraphcontainerjsx",level:3},{value:"<code>DependencyGraph.jsx</code>",id:"dependencygraphjsx",level:3},{value:"<code>AddRelationshipForm.jsx</code>",id:"addrelationshipformjsx",level:3},{value:"<code>CustomEdge.jsx</code>",id:"customedgejsx",level:3}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"frontend-documentation-architecture-components",children:"Frontend Documentation: Architecture Components"})}),"\n",(0,o.jsx)(n.p,{children:"This document provides a breakdown of the components used for rendering the project dependency graph."}),"\n",(0,o.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsxs)(n.p,{children:["The architecture components are responsible for visualizing the relationships between different applications (projects) within a company. They use the ",(0,o.jsx)(n.a,{href:"https://reactflow.dev/",children:"React Flow"})," library to render an interactive, node-based graph where each node is a project and each edge is a defined dependency."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"component-breakdown",children:"Component Breakdown"}),"\n",(0,o.jsx)(n.h3,{id:"projectgraphcontainerjsx",children:(0,o.jsx)(n.code,{children:"ProjectGraphContainer.jsx"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Rendered in:"})," ",(0,o.jsx)(n.code,{children:"CompanyDetails.jsx"})," (which is in turn rendered on the ",(0,o.jsx)(n.code,{children:"DashboardPage"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Purpose:"})," The main container and stateful component for the architecture visualization."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Behavior:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["It uses the ",(0,o.jsx)(n.code,{children:"useArchitectureStore"})," to fetch the list of ",(0,o.jsx)(n.code,{children:"relationships"})," for the current company."]}),"\n",(0,o.jsxs)(n.li,{children:["It also fetches the list of all ",(0,o.jsx)(n.code,{children:"projects"})," for the company from the ",(0,o.jsx)(n.code,{children:"useHierarchyStore"}),"."]}),"\n",(0,o.jsx)(n.li,{children:'It processes this data, transforming the projects into "nodes" and the relationships into "edges" in a format that the React Flow library can understand.'}),"\n",(0,o.jsxs)(n.li,{children:["It manages the layout of the graph, using the ",(0,o.jsx)(n.code,{children:"dagre"})," library for automatic hierarchical layout."]}),"\n",(0,o.jsxs)(n.li,{children:["It renders the ",(0,o.jsx)(n.code,{children:"<DependencyGraph />"})," component, passing the processed nodes and edges to it."]}),"\n",(0,o.jsxs)(n.li,{children:["It also renders the ",(0,o.jsx)(n.code,{children:"<AddRelationshipForm />"})," alongside the graph."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"dependencygraphjsx",children:(0,o.jsx)(n.code,{children:"DependencyGraph.jsx"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Rendered in:"})," ",(0,o.jsx)(n.code,{children:"ProjectGraphContainer.jsx"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Purpose:"})," A presentational component that is a direct wrapper around the ",(0,o.jsx)(n.code,{children:"ReactFlow"})," library."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Behavior:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["It receives the ",(0,o.jsx)(n.code,{children:"nodes"})," and ",(0,o.jsx)(n.code,{children:"edges"})," as props from the container."]}),"\n",(0,o.jsxs)(n.li,{children:["It configures the ",(0,o.jsx)(n.code,{children:"ReactFlow"})," instance, providing it with the data, custom edge components (",(0,o.jsx)(n.code,{children:"<CustomEdge />"}),"), and settings for panning, zooming, etc."]}),"\n",(0,o.jsx)(n.li,{children:"It is responsible for rendering the graph canvas itself, but not for fetching or processing the data."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"addrelationshipformjsx",children:(0,o.jsx)(n.code,{children:"AddRelationshipForm.jsx"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Rendered in:"})," ",(0,o.jsx)(n.code,{children:"ProjectGraphContainer.jsx"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Purpose:"})," A form that allows users to create a new dependency (an edge) between two projects."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Behavior:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:'It provides two dropdowns, "Source Project" and "Target Project," which are populated with the list of projects in the company.'}),"\n",(0,o.jsxs)(n.li,{children:["It includes a field for the ",(0,o.jsx)(n.code,{children:"type"})," of dependency (e.g., ",(0,o.jsx)(n.code,{children:"API_CALL"}),") and an optional ",(0,o.jsx)(n.code,{children:"description"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["On submit, it calls the ",(0,o.jsx)(n.code,{children:"addRelationship"})," action on the ",(0,o.jsx)(n.code,{children:"useArchitectureStore"})," to save the new dependency to the database. Upon success, the graph is typically refreshed to show the new edge."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"customedgejsx",children:(0,o.jsx)(n.code,{children:"CustomEdge.jsx"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Purpose:"})," A custom component passed to ",(0,o.jsx)(n.code,{children:"ReactFlow"})," to define how the edges (the lines connecting the nodes) are rendered."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Behavior:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"It receives edge data (source position, target position, etc.) as props from React Flow."}),"\n",(0,o.jsxs)(n.li,{children:["It renders an SVG path for the line and includes a label (the dependency ",(0,o.jsx)(n.code,{children:"type"}),") along the center of the path."]}),"\n",(0,o.jsx)(n.li,{children:"This allows for a consistent and customized look and feel for the dependencies in the graph."}),"\n"]}),"\n"]}),"\n"]})]})}function l(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}}}]);